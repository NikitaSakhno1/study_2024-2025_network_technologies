РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ

**Факультет физико-математических и естественных наук**

**Кафедра прикладной информатики и теории вероятностей**

ОТЧЕТ

по лабораторной работе №5

дисциплина: Сетевые технологии

Студент: Сахно Никита

Группа: НФИбд-02-23

**МОСКВА**

2025 г.

**Цель работы**

Построить простейшие модели сетей на базе коммутатора и маршрутизаторов FRR и VyOS в GNS3, проанализировать трафик посредством Wireshark.

**Задание**

1\. Смоделировать простейшую сеть на базе коммутатора в GNS3;

2\. Проанализировать трафик в GNS3 посредством Wireshark;

3\. Смоделировать простейшую сеть на базе маршрутизатора FRR в GNS3;

4\. Смоделировать простейшую сеть на базе маршрутизатора VyOS в GNS3.

**Выполнение лабораторной работы**

№1

Для начала запустим GNS3 VM и GNS3, а также создадим новый проект.

В рабочей области GNS3 разместим коммутатор Ethernet и два VPCS. В меню Configure изменим название устройства, включив в имя устройства имя моей учётной записи. Коммутатору присвоим название msk-dmbelicheva-sw-01. Соединим VPCS с коммутатором и отобразим обозначение интерфейсов соединения.

Рисунок 1. Топология простейшей сети в GNS3

Зададим IP-адреса VPCS. Для этого с помощью меню, вызываемого правой кнопкой мыши, запустим Start PC-1, затем вызовем его терминал Console. Для просмотра синтаксиса возможных для ввода команд можно набрать /?.

Рисунок 2. Окно терминала PC1

Для задания IP-адреса 192.168.1.11 в сети 192.168.1.0/24 введем:

_ip 192.168.1.11/24 192.168.1.1_

Для сохранения конфигурации введем команду save.

Рисунок 3. Задание IP-адреса для PC-1

Аналогичным образом зададим IP-адрес 192.168.1.12 для PC-2.

Рисунок 4. Задание IP-адреса для PC-2

Проверим работоспособность соединения между PC-1 и PC-2 с помощью команды ping.

В терминале PC-1 введем команду ping и IP-адрес, присвоенный PC-2. Получаем эхо-ответ от PC-2 (возвращены четыре пакета).

Рисунок 5. Пингование PC-2

То же самое делаем из терминала PC-2, пингуем соответственно IP-адрес PC-1. Получаем эхо-ответ от PC-1. Значит соединение наших PC работоспособно.

Рисунок 6. Пингование PC-1

Остановим в проекте все узлы.

Рисунок 7. Остановка всех узлов

№2

Запустим на соединении между PC-1 и коммутатором анализатор трафика. Для этого щёлкнем правой кнопкой мыши на соединении, выберем в меню Start capture. После этого запустился Wireshark, а в проекте GNS3 на соединении появился значок лупы.

Рисунок 8. Появление значка лупы на соединении

В проекте GNS3 стартуем все узлы.

Рисунок 9. Старт всех узлов

В окне Wireshark отобразится информация по протоколу ARP.

В поле кадра физического уровня мы можем узнать длину кадра (в моем случае было 64 бита). В поле канального уровня можем посмотреть mac-адреса источника и получателя. По нулевому и первому битам можем определить тип mac-адресов (получатель – локально администрируемый и широковещательный; источник - глобально администрируемый и одиночный).

Рисунок 10. Информация по протоколу ARP

В терминале PC-2 посмотрим информацию по опциям команды ping. Затем сделаем один эхо-запрос в ICMP-моде к узлу PC-1. Для этого используем опцию -1.

Рисунок 11. Эхо-запрос в ICMP-моде

Далее откроем Wireshark и проанализируем эхо-запрос по протоколу ICMP. В поле канального уровня можем посмотреть mac-адреса источника и получателя. По нулевому и первому битам можем определить тип mac-адресов (получатель и источник - глобально администрируемые и одиночные, так как биты равны 0). В поле сетевого уровня указан протокол ICMP и IP-адреса источника (192.168.1.12, то есть PC-2) и получателя (192.168.1.11, то есть PC-2).

Рисунок 12. Полученная информация по эхо-запросу в ICMP-моде к узлу PC-1

Рисунок 13 Поле уровня протокола ARP

Сделаем один эхо-запрос в UDP-моде к узлу PC-1. Для этого используем опцию -2.

Рисунок 14. Эхо-запрос в UDP-моде

Далее откроем Wireshark и проанализируем эхо-запрос по протоколу UDP. В поле канального уровня можем посмотреть mac-адреса источника и получателя. По нулевому и первому битам можем определить тип mac-адресов (получатель и источник - глобально администрируемые и одиночные, так как биты равны 0). В поле сетевого уровня указан протокол UDP и IP-адреса источника (192.168.1.12, то есть PC-2) и получателя (192.168.1.11, то есть PC-2). В поле протокола UDP указаны порты источника (17163) и получателя (7).

Рисунок 15. Полученная информация по эхо-запросу в UDP-моде к узлу PC-1

Сделаем один эхо-запрос в TCP-моде к узлу PC-1. Для этого используем опцию -3.

Рисунок 16. Эхо-запрос в TCP-моде

Далее откроем Wireshark и проанализируем эхо-запрос по протоколу TCP. В поле канального уровня можем посмотреть mac-адреса источника и получателя. По нулевому и первому битам можем определить тип mac-адресов (получатель и источник - глобально администрируемые и одиночные, так как биты равны 0). В поле сетевого уровня указан протокол TCP и IP-адреса источника (192.168.1.12, то есть PC-2) и получателя (192.168.1.11, то есть PC-2).

Рисунок 17. Полученная информация по эхо-запросу в TCP-моде к узлу PC-1

В поле протокола TCP можем узнать порты источника (19241) и получателя (7). А также посмотреть, как работает handshake протокола TCP. На первом шаге установлен флаг SYN, а также Порядковому номеру (Sequence Number) присвоено начальное 32-битное значение ISSa (в нашем случае 1741785218).

Рисунок 18. Информация по протоколу TCP

Теперь можно остановить захват трафика в Wireshark.

№3

Теперь нам нужно построить в GNS3 топологию сети, состоящей из маршрутизатора FRR, коммутатора Ethernet и оконечного устройства.

Рисунок 19. Топология сети с маршрутизатором FRR

К сожалению, у меня возникают проблемы после запуска терминала маршрутизатора FRR, и нет возможности вводить команды. Видимо это из-за того, что у меня операционная система Windows. Поэтому выполнить задание №3 я не могу.

Рисунок 20. Терминал маршрутизатора FRR

№4

Запустим GNS3 VM и GNS3. Создадим новый проект.

В рабочей области GNS3 разместим VPCS, коммутатор Ethernet и маршрутизатор VyOS.

Изменим отображаемые названия устройств. Коммутатору присвоим название msk-dmbelicheva-sw-01, маршрутизатору — по принципу msk-dmbelicheva-gw-01, VPCS — по принципу PC1-dmbelicheva.

Включим захват трафика на соединении между коммутатором и маршрутизатором (появится значок лупы).

Запустим все устройства проекта и откроем консоль всех устройств проекта.

Рисунок 21. Топология сети с маршрутизатором VyOS

Откроем окно терминала PC-1 и настроим IP-адресацию для интерфейса этого узла.

Рисунок 22. Настройка IP-адресации для интерфейса узла PC-1

Настроим маршрутизатор VyOS:

Во-первых, после загрузки нужно ввести логин vyos и пароль vyos.

В рабочем режиме в командной строке отобразится символ $.

Рисунок 23. Настройка маршрутизатора VyOS

Далее надо установить систему на диск с помощью команды _install image_, но у меня эта система уже была.

Следующим шагом перейдем в режим конфигурирования с помощью команды configure. Изменим имя устройства командой _set system host-name msk-dmbelicheva-gw-01_

Зададим IP-адрес на интерфейсе eth0 командой _set interfaces ethernet eth0 address_ _192.168.1.1/24_

Посмотрим внесённые в конфигурацию изменения с помощью команды _compare._

Рисунок 24. Режим конфигурирования

Далее применим изменения в конфигурации и сохраним саму конфигурацию с помощью команд _commit_ и _save._

Посмотрим информацию об интерфейсах маршрутизатора с помощью команды _show interfaces._

Выйдем из режима конфигурирования, используя команду exit.

Рисунок 25. Режим конфигурирования

Теперь проверим подключение. Узел PC1 должен успешно отправлять эхо-запросы на адрес маршрутизатора 192.168.1.1. Для проверки пингуем маршрутизатор. Получили эхо-ответ (4 пакета).

Рисунок 26. Пингование маршрутизатора

В окне Wireshark проанализируем полученную информацию. В поле канального уровня можем посмотреть mac-адреса источника и получателя. По нулевому и первому битам можем определить тип mac-адресов (получатель и источник - глобально администрируемые и одиночные, так как биты равны 0). В поле сетевого уровня указан протокол ICMP и IP-адреса источника (192.168.1.10, то есть PC-1) и получателя (192.168.1.1, то есть маршрутизатор VyOS).

Рисунок 27. Полученная информация в Wireshark по ICMP-сообщению

**Выводы:**

В процессе выполнения данной лабораторной работы я построил простейшие модели сети на базе коммутатора и маршрутизатора VyOS в GNS3, проанализировал трафик посредством Wireshark.